name: Test Auto Schedule

on:
  # æ¯ 30 åˆ†é˜åŸ·è¡Œä¸€æ¬¡ï¼ˆåƒ…æ¸¬è©¦ç”¨ï¼‰
  schedule:
    - cron: '*/30 * * * *'
  # ä¹Ÿå…è¨±æ‰‹å‹•è§¸ç™¼
  workflow_dispatch:

jobs:
  test-schedule:
    runs-on: ubuntu-latest
    
    steps:
      - name: Test Scheduled Execution
        run: |
          echo "ğŸ•’ è‡ªå‹•æ’ç¨‹æ¸¬è©¦åŸ·è¡Œæ–¼: $(date)"
          echo "âœ… GitHub Actions cron æ­£å¸¸å·¥ä½œï¼"
          echo "ğŸ“… é€™å€‹æ¸¬è©¦æœƒæ¯ 30 åˆ†é˜åŸ·è¡Œä¸€æ¬¡"
          
      - name: Check Railway Connection
        run: |
          echo "ğŸ”Œ æ¸¬è©¦ Railway é€£æ¥..."
          if [ -n "${{ secrets.RAILWAY_TOKEN }}" ]; then
            echo "âœ… RAILWAY_TOKEN å·²è¨­å®š"
          else
            echo "âŒ RAILWAY_TOKEN æœªè¨­å®š"
          fi
          
          if [ -n "${{ secrets.RAILWAY_SERVICE_ID }}" ]; then
            echo "âœ… RAILWAY_SERVICE_ID å·²è¨­å®š: ${{ secrets.RAILWAY_SERVICE_ID }}"
          else
            echo "âŒ RAILWAY_SERVICE_ID æœªè¨­å®š"
          fi
          
      - name: Simulate Collection
        run: |
          echo "ğŸ¤– æ¨¡æ“¬æ•¸æ“šæ”¶é›†..."
          echo "å¦‚æœçœ‹åˆ°é€™å€‹è¨Šæ¯ï¼Œè¡¨ç¤ºè‡ªå‹•æ’ç¨‹æ­£å¸¸å·¥ä½œï¼"
          echo "æ¸¬è©¦å®Œæˆå¾Œï¼Œè¨˜å¾—åˆªé™¤é€™å€‹æ¸¬è©¦ workflow"